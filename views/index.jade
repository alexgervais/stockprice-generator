extends layout

block content
    h1= title
    form(method='get')
        label Starting value:
            input(type='text', name='value', value='#{value}')
        br
        label Number of data points:
            input(type='text', name='points', value='#{points}')
            input(type='submit', value='Generate')
    br
    div#chartContainer(style='height: 300px; width: 600px;')
    script.
        window.onload = function () {
            var chart = new CanvasJS.Chart("chartContainer",
                    {
                        zoomEnabled: true,
                        title: {
                            text: '#{file}'
                        },
                        animationEnabled: true,
                        axisX: {
                            labelAngle: 30
                        },
                        axisY: {
                            includeZero: false
                        },
                        data: !{JSON.stringify(data)}
                    });
            chart.render();
        }
    a(href='#{file}') Download